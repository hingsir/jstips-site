<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>A JS tip per day!</title>
    <link rel="stylesheet" type="text/css" href="../css/github_1.css">
    <link rel="stylesheet" type="text/css" href="../css/github_2.css">
</head>
</head>
<body>
    <ul>
        
            <li><a href="21.html">21.Shuffle an Array</a></li>
        
            <li><a href="20.html">20.Return objects to enable chaining of functions</a></li>
        
            <li><a href="19.html">19.Safe string concatenation</a></li>
        
            <li><a href="18.html">18.Rounding the fast way</a></li>
        
            <li><a href="17.html">17.Node.js: Run a module if it is not required</a></li>
        
            <li><a href="16.html">16.Passing arguments to callback functions</a></li>
        
            <li><a href="15.html">15.Even simpler way of using indexOf as a contains clause</a></li>
        
            <li><a href="14.html">14.Fat Arrow Functions #ES6</a></li>
        
            <li><a href="13.html">13.Tip to measure performance of a javascript block</a></li>
        
            <li><a href="12.html">12.Pseudomandatory parameters in ES6 functions #ES6</a></li>
        
            <li><a href="11.html">11.Hoisting</a></li>
        
            <li><a href="10.html">10.Check if a property is in a Object</a></li>
        
            <li><a href="09.html">09.Template Strings</a></li>
        
            <li><a href="08.html">08.Converting a Node List to an Array</a></li>
        
            <li><a href="07.html">07.&#34;use strict&#34; and get lazy</a></li>
        
            <li><a href="06.html">06.Writing a single method for arrays or single elements</a></li>
        
            <li><a href="05.html">05.Differences between `undefined` and `null`</a></li>
        
            <li><a href="04.html">04.Sorting strings with accented characters</a></li>
        
            <li><a href="03.html">03.Improve Nested Conditionals</a></li>
        
            <li><a href="02.html">02.ReactJs - Keys in children components are important</a></li>
        
            <li><a href="1.html">1.AngularJs: `$digest` vs `$apply`</a></li>
        
            <li><a href="0.html">0.Insert item inside an Array</a></li>
        
    </ul>
    <div id="content-wrap">
        &lt;h2&gt;#15 - Even simpler way of using indexOf as a contains clause&lt;/h2&gt;

&lt;blockquote&gt;&lt;p&gt;2016-01-15 by &lt;a href=&#34;https://twitter.com/jhogoforbroke&#34;&gt;@jhogoforbroke&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;JavaScript by default does not have a contains method. And for checking existence of a substring in string or item in array you may do this:&lt;/p&gt;

&lt;p&gt;&lt;code&gt;&lt;/code&gt;`javascript
var someText = &amp;#39;javascript rules&amp;#39;;
if (someText.indexOf(&amp;#39;javascript&amp;#39;) !== -1) {
}&lt;/p&gt;

&lt;p&gt;// or
if (someText.indexOf(&amp;#39;javascript&amp;#39;) &amp;gt;= 0) {
}
&lt;code&gt;&lt;/code&gt;`&lt;/p&gt;

&lt;p&gt;But let&amp;#39;s look at these &lt;a href=&#34;https://github.com/strongloop/express&#34;&gt;Expressjs&lt;/a&gt; code snippets.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://github.com/strongloop/express/blob/2f8ac6726fa20ab5b4a05c112c886752868ac8ce/examples/mvc/lib/boot.js#L26&#34;&gt;examples/mvc/lib/boot.js&lt;/a&gt;
&lt;code&gt;javascript
for (var key in obj) {
  // &amp;quot;reserved&amp;quot; exports
  if (~[&amp;#39;name&amp;#39;, &amp;#39;prefix&amp;#39;, &amp;#39;engine&amp;#39;, &amp;#39;before&amp;#39;].indexOf(key)) continue;
&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://github.com/strongloop/express/blob/2f8ac6726fa20ab5b4a05c112c886752868ac8ce/lib/utils.js#L93&#34;&gt;lib/utils.js&lt;/a&gt;
&lt;code&gt;javascript
exports.normalizeType = function(type){
  return ~type.indexOf(&amp;#39;/&amp;#39;)
    ? acceptParams(type)
    : { value: mime.lookup(type), params: {} };
};
&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://github.com/strongloop/express/blob/2f8ac6726fa20ab5b4a05c112c886752868ac8ce/examples/web-service/index.js#L35)
```javascript
// key is invalid
if (!~apiKeys.indexOf(key)) return next(error(401,&#34; title=&#34;invalid api key&#34;&gt;examples/web-service/index.js&lt;/a&gt;);
&lt;code&gt;&lt;/code&gt;`&lt;/p&gt;

&lt;p&gt;The gotcha is the &lt;a href=&#34;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Bitwise_Operators&#34;&gt;bitwise operator&lt;/a&gt; &lt;strong&gt;~&lt;/strong&gt;, &amp;quot;Bitwise operators perform their operations on such binary representations, but they return standard JavaScript numerical values.&amp;quot;&lt;/p&gt;

&lt;p&gt;It transforms &lt;code&gt;-1&lt;/code&gt; into &lt;code&gt;0&lt;/code&gt;, and &lt;code&gt;0&lt;/code&gt; evaluates to &lt;code&gt;false&lt;/code&gt; in JavaScript:&lt;/p&gt;

&lt;p&gt;&lt;code&gt;javascript
var someText = &amp;#39;text&amp;#39;;
!!~someText.indexOf(&amp;#39;tex&amp;#39;); // someText contains &amp;quot;tex&amp;quot; - true
!~someText.indexOf(&amp;#39;tex&amp;#39;); // someText NOT contains &amp;quot;tex&amp;quot; - false
~someText.indexOf(&amp;#39;asd&amp;#39;); // someText doesn&amp;#39;t contain &amp;quot;asd&amp;quot; - false
~someText.indexOf(&amp;#39;ext&amp;#39;); // someText contains &amp;quot;ext&amp;quot; - true
&lt;/code&gt;&lt;/p&gt;

&lt;h3&gt;String.prototype.includes()&lt;/h3&gt;

&lt;p&gt;In ES6 was introduced the &lt;a href=&#34;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/includes&#34;&gt;includes() method&lt;/a&gt; and you can use to determine whether or not a string includes another string:&lt;/p&gt;

&lt;p&gt;&lt;code&gt;javascript
&amp;#39;something&amp;#39;.includes(&amp;#39;thing&amp;#39;); // true
&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;With ECMAScript 2016 (ES7) is even possible uses with Arrays, like indexOf:&lt;/p&gt;

&lt;p&gt;&lt;code&gt;javascript
!!~[1, 2, 3].indexOf(1); // true
[1, 2, 3].includes(1); // true
&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Unfortunately, It&amp;#39;s got support only in Chrome, Firefox, Safari 9 or above and Edge. Not IE11 or less.&lt;/strong&gt;
&lt;strong&gt;It&amp;#39;s better to using in controlled environments.&lt;/strong&gt;&lt;/p&gt;    </div>
</ul>
</body>
</html>