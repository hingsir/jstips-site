<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><title>jstips - A JS tip per day</title><meta name="keywords" content="jstips,tips,js,javascript,front end"><meta name="description" content="Introduces these short and useful daily JavaScript tips that will allow you to improve your code writing. With less than 2 minutes each day, you will be able to read about performance, conventions, hacks, interview questions and all the items that the future of this awesome language holds for us"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scale=no"><link rel="icon" type="image/x-icon" href="../images/favicon.ico"><link rel="stylesheet" type="text/css" href="../css/all-9e10bd7555.min.css"></head><body><div class="main-content clearfix"><div id="sider-wrap" class="catalog"><div class="catalog-header"><h1><a href="https://github.com/loverajoel/jstips">A JS tip per day</a></h1></div><ul><li><a href="23.html" class="" title="23.Converting to number fast way">23.Converting to number fast way</a></li><li><a href="22.html" class="" title="22.Empty an Array">22.Empty an Array</a></li><li><a href="21.html" class="" title="21.Shuffle an Array">21.Shuffle an Array</a></li><li><a href="20.html" class="" title="20.Return objects to enable chaining of functions">20.Return objects to enable chaining of functions</a></li><li><a href="19.html" class="" title="19.Safe string concatenation">19.Safe string concatenation</a></li><li><a href="18.html" class="" title="18.Rounding the fast way">18.Rounding the fast way</a></li><li><a href="17.html" class="" title="17.Node.js: Run a module if it is not &#34;required&#34;">17.Node.js: Run a module if it is not &#34;required&#34;</a></li><li><a href="16.html" class="" title="16.Passing arguments to callback functions">16.Passing arguments to callback functions</a></li><li><a href="15.html" class="" title="15.Even simpler way of using indexOf as a contains clause">15.Even simpler way of using indexOf as a contains clause</a></li><li><a href="14.html" class="" title="14.Fat Arrow Functions #ES6">14.Fat Arrow Functions #ES6</a></li><li><a href="13.html" class="" title="13.Tip to measure performance of a javascript block">13.Tip to measure performance of a javascript block</a></li><li><a href="12.html" class="" title="12.Pseudomandatory parameters in ES6 functions #ES6">12.Pseudomandatory parameters in ES6 functions #ES6</a></li><li><a href="11.html" class="" title="11.Hoisting">11.Hoisting</a></li><li><a href="10.html" class="" title="10.Check if a property is in a Object">10.Check if a property is in a Object</a></li><li><a href="09.html" class="" title="09.Template Strings">09.Template Strings</a></li><li><a href="08.html" class="" title="08.Converting a Node List to an Array">08.Converting a Node List to an Array</a></li><li><a href="07.html" class="" title="07.&#34;use strict&#34; and get lazy">07.&#34;use strict&#34; and get lazy</a></li><li><a href="06.html" class="" title="06.Writing a single method for arrays and a single element">06.Writing a single method for arrays and a single element</a></li><li><a href="05.html" class="" title="05.Differences between `undefined` and `null`">05.Differences between `undefined` and `null`</a></li><li><a href="04.html" class="" title="04.Sorting strings with accented characters">04.Sorting strings with accented characters</a></li><li><a href="03.html" class="" title="03.Improve Nested Conditionals">03.Improve Nested Conditionals</a></li><li><a href="02.html" class="cur" title="02.ReactJs - Keys in children components are important">02.ReactJs - Keys in children components are important</a></li><li><a href="1.html" class="" title="1.AngularJs: `$digest` vs `$apply`">1.AngularJs: `$digest` vs `$apply`</a></li><li><a href="0.html" class="" title="0.Insert item inside an Array">0.Insert item inside an Array</a></li></ul></div><div id="content-wrap"><div id="readme" class="boxed-group clearfix announce instapaper_body md"><article class="markdown-body entry-content" itemprop="mainContentOfPage"><h2 id="-02-reactjs-keys-in-children-components-are-important">#02 - ReactJs - Keys in children components are important</h2><blockquote><p>2016-01-02 by <a href="https://twitter.com/loverajoel">@loverajoel</a></p></blockquote><p>The <a href="https://facebook.github.io/react/docs/multiple-components.html#dynamic-children">key</a> is an attribute that you must pass to all components created dynamically from an array. It&#39;s a unique and constant id that React uses to identify each component in the DOM and to know whether it&#39;s a different component or the same one. Using keys ensures that the child component is preserved and not recreated and prevents weird things from happening.</p><blockquote><p>Key is not really about performance, it&#39;s more about identity (which in turn leads to better performance). Randomly assigned and changing values do not form an identity <a href="https://github.com/facebook/react/issues/1342#issuecomment-39230939">Paul O’Shannessy</a></p></blockquote><ul><li>Use an existing unique value of the object.</li><li><p>Define the keys in the parent components, not in child components</p><pre><code class="lang-javascript"> <span class="hljs-comment"> //bad</span>
  ...
  render() {
      &lt;<span class="hljs-keyword">div</span> key={{<span class="hljs-keyword">item</span>.key}}&gt;{{<span class="hljs-keyword">item</span>.name}}&lt;/<span class="hljs-keyword">div</span>&gt;
  }
  ...

 <span class="hljs-comment"> //good</span>
  &lt;MyComponent key={{<span class="hljs-keyword">item</span>.key}}/&gt;
</code></pre></li><li><a href="https://medium.com/@robinpokorny/index-as-a-key-is-an-anti-pattern-e0349aece318#.76co046o9">Using array index is a bad practice.</a></li><li><p><code>random()</code> will not work</p><pre><code class="lang-javascript"><span class="xml">  //bad
  <span class="hljs-tag">&lt;<span class="hljs-name">MyComponent</span> <span class="hljs-attr">key</span>=</span></span><span class="hljs-template-variable">{{<span class="hljs-keyword">Math</span>.random()}</span><span class="xml"><span class="hljs-tag">}/&gt;</span></span>
</code></pre></li><li><p>You can create your own unique id. Be sure that the method is fast and attach it to your object.</p></li><li>When the number of children is large or contains expensive components, use keys to improve performance.</li><li><a href="http://docs.reactjs-china.com/react/docs/animation.html">You must provide the key attribute for all children of ReactCSSTransitionGroup.</a></li></ul></article></div><a id="goto-catalog" href="catalog.html">&lt;&lt;返回目录</a><!-- 多说分享 start --><div class="ds-share flat" data-thread-key="jstips02" data-title="02.ReactJs - Keys in children components are important" data-images="http://jstips.hingsir.com/dist/images/github.jpg" data-content="  2016-01-02  by [@loverajoel](https://twitter.com/loverajoel) The [key](https://facebook.github.io/react/docs/multiple-components.html#dynamic-children) is an attribute that you must pass to all components created dynamically from an array. It&#39;s a unique and constant id that React uses to identify each component in the DOM and to know whether it&#39;s a different component or the same one. Using keys ensures that the child component is preserved and not recreated and prevents weird things from happ" data-url="http://jstips.hingsir.com/dist/tips/02.html"><div class="ds-share-inline"><ul class="ds-share-icons-16"><li><a class="ds-more" href="javascript:void(0);">分享到：</a></li><li><a class="ds-weibo" href="javascript:void(0);" data-service="weibo">微博</a></li><li><a class="ds-wechat" href="javascript:void(0);" data-service="wechat">微信</a></li></ul><div class="ds-share-icons-more"></div></div></div><!-- 多说分享 end --><!-- 多说评论框 start --><div class="ds-thread" data-thread-key="jstips02" data-title="02.ReactJs - Keys in children components are important" data-url="http://jstips.hingsir.com/dist/tips/02.html"></div><!-- 多说评论框 end --><!-- 多说公共JS代码 start (一个网页只需插入一次) --><script type="text/javascript">var duoshuoQuery = {short_name:"hingsir"};
    (function() {
        var ds = document.createElement('script');
        ds.type = 'text/javascript';ds.async = true;
        ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
        ds.charset = 'UTF-8';
        (document.getElementsByTagName('head')[0]
         || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();</script><!-- 多说公共JS代码 end --><div class="site-footer"><p class="copyright">Powered by <a href="https://github.com/hingsir">@hingsir</a>, 2016</p></div></div></div><a id="forkme" href="https://github.com/hingsir/jstips-site"><img style="position: absolute; top: 0; right: 0; border: 0;z-index:100" src="https://camo.githubusercontent.com/a6677b08c955af8400f44c6298f40e7d19cc5b2d/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f677261795f3664366436642e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png"></a></body></html>