<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>A JS tip per day!</title>
    <link rel="stylesheet" type="text/css" href="../css/github_1.css">
    <link rel="stylesheet" type="text/css" href="../css/github_2.css">
    <link rel="stylesheet" type="text/css" href="../js/highlight/styles/github.css">
    <link rel="stylesheet" type="text/css" href="../css/index.css">
</head>
</head>
<body>
    <div class="header">
        <h1><a href="https://github.com/loverajoel/jstips">A JS tip per day</a></h1>
    </div>
    <div class="main-content clearfix">
        <div id="sider-wrap">
            <ul>
    
        <li><a href="22.html" class=""
		 title="22.Empty an Array">22.Empty an Array</a></li>
    
        <li><a href="21.html" class=""
		 title="21.Shuffle an Array">21.Shuffle an Array</a></li>
    
        <li><a href="20.html" class=""
		 title="20.Return objects to enable chaining of functions">20.Return objects to enable chaining of functions</a></li>
    
        <li><a href="19.html" class=""
		 title="19.Safe string concatenation">19.Safe string concatenation</a></li>
    
        <li><a href="18.html" class=""
		 title="18.Rounding the fast way">18.Rounding the fast way</a></li>
    
        <li><a href="17.html" class=""
		 title="17.Node.js: Run a module if it is not &#34;required&#34;">17.Node.js: Run a module if it is not &#34;required&#34;</a></li>
    
        <li><a href="16.html" class=""
		 title="16.Passing arguments to callback functions">16.Passing arguments to callback functions</a></li>
    
        <li><a href="15.html" class=""
		 title="15.Even simpler way of using indexOf as a contains clause">15.Even simpler way of using indexOf as a contains clause</a></li>
    
        <li><a href="14.html" class=""
		 title="14.Fat Arrow Functions #ES6">14.Fat Arrow Functions #ES6</a></li>
    
        <li><a href="13.html" class=""
		 title="13.Tip to measure performance of a javascript block">13.Tip to measure performance of a javascript block</a></li>
    
        <li><a href="12.html" class=""
		 title="12.Pseudomandatory parameters in ES6 functions #ES6">12.Pseudomandatory parameters in ES6 functions #ES6</a></li>
    
        <li><a href="11.html" class=""
		 title="11.Hoisting">11.Hoisting</a></li>
    
        <li><a href="10.html" class=""
		 title="10.Check if a property is in a Object">10.Check if a property is in a Object</a></li>
    
        <li><a href="09.html" class=""
		 title="09.Template Strings">09.Template Strings</a></li>
    
        <li><a href="08.html" class=""
		 title="08.Converting a Node List to an Array">08.Converting a Node List to an Array</a></li>
    
        <li><a href="07.html" class=""
		 title="07.&#34;use strict&#34; and get lazy">07.&#34;use strict&#34; and get lazy</a></li>
    
        <li><a href="06.html" class=""
		 title="06.Writing a single method for arrays and a single element">06.Writing a single method for arrays and a single element</a></li>
    
        <li><a href="05.html" class=""
		 title="05.Differences between `undefined` and `null`">05.Differences between `undefined` and `null`</a></li>
    
        <li><a href="04.html" class=""
		 title="04.Sorting strings with accented characters">04.Sorting strings with accented characters</a></li>
    
        <li><a href="03.html" class=""
		 title="03.Improve Nested Conditionals">03.Improve Nested Conditionals</a></li>
    
        <li><a href="02.html" class=""
		 title="02.ReactJs - Keys in children components are important">02.ReactJs - Keys in children components are important</a></li>
    
        <li><a href="1.html" class=""
		 title="1.AngularJs: `$digest` vs `$apply`">1.AngularJs: `$digest` vs `$apply`</a></li>
    
        <li><a href="0.html" class="cur"
		 title="0.Insert item inside an Array">0.Insert item inside an Array</a></li>
    
</ul>        </div>
        <div id="content-wrap">
             <div id="readme" class="boxed-group clearfix announce instapaper_body md">
 	<article class="markdown-body entry-content" itemprop="mainContentOfPage">
 		<h2 id="-0-insert-item-inside-an-array">#0 - Insert item inside an Array</h2>
<blockquote>
<p>2015-12-29</p>
</blockquote>
<p>Inserting an item into an existing array is a daily common task. You can add elements to the end of an array using push, to the beginning using unshift, or to the middle using splice.</p>
<p>Those are known methods, but it doesn&#39;t mean there isn&#39;t a more performant way. Here we go:</p>
<p>Adding an element at the end of the array is easy with push(), but there is a more performant way.</p>
<pre><code class="lang-javascript">var arr = [<span class="hljs-number">1,2,3,4</span>,<span class="hljs-number">5</span>]<span class="hljs-comment">;</span>

arr.push(<span class="hljs-number">6</span>)<span class="hljs-comment">;</span>
arr[arr.length] = <span class="hljs-number">6</span><span class="hljs-comment">; // 43% faster in Chrome 47.0.2526.106 on Mac OS X 10.11.1</span>
</code></pre>
<p>Both methods modify the original array. Don&#39;t believe me? Check the <a href="http://jsperf.com/push-item-inside-an-array">jsperf</a></p>
<p>Now if we are trying to add an item to the beginning of the array:</p>
<pre><code class="lang-javascript">var arr = [<span class="hljs-number">1,2,3,4</span>,<span class="hljs-number">5</span>]<span class="hljs-comment">;</span>

arr.unshift(<span class="hljs-number">0</span>)<span class="hljs-comment">;</span>
[<span class="hljs-number">0</span>].concat(arr)<span class="hljs-comment">; // 98% faster in Chrome 47.0.2526.106 on Mac OS X 10.11.1</span>
</code></pre>
<p>Here is a little more detail: unshift edits the original array; concat returns a new array. <a href="http://jsperf.com/unshift-item-inside-an-array">jsperf</a></p>
<p>Adding items in the middle of an array is easy with splice, and it&#39;s the most performant way to do it.</p>
<pre><code class="lang-javascript">var items = [<span class="hljs-string">'one'</span>, <span class="hljs-string">'two'</span>, <span class="hljs-string">'three'</span>, <span class="hljs-string">'four'</span>]<span class="hljs-comment">;</span>
items.splice(items.<span class="hljs-keyword">length</span> / <span class="hljs-number">2</span>, <span class="hljs-number">0</span>, <span class="hljs-string">'hello'</span>)<span class="hljs-comment">;</span>
</code></pre>
<p>I tried to run these tests in various Browsers and OS and the results were similar. I hope these tips will be useful for you and encourage to perform your own tests!</p>
<h3 id="license">License</h3>
<p><a href="http://creativecommons.org/publicdomain/zero/1.0/"><img src="http://i.creativecommons.org/p/zero/1.0/88x31.png" alt="CC0"></a></p>
 	</article>
</div>
        </div>
    </div>
    <div class="site-footer">
        <p class="copyright">Powered by <a href="https://github.com/hingsir">@hingsir</a>, 2016</p>
    </div>
    <a href="https://github.com/hingsir"><img style="position: absolute; top: 0; right: 0; border: 0;z-index:100;" src="https://camo.githubusercontent.com/a6677b08c955af8400f44c6298f40e7d19cc5b2d/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f677261795f3664366436642e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png"></a>
    <script type="text/javascript">
        var sider = document.getElementById('sider-wrap');
        var content = document.getElementById('content-wrap');
        window.onscroll = function(){
            var scrollTop = document.body.scrollTop;
            if(scrollTop > 80){
                !~sider.className.indexOf('fixed-sider') && (sider.className =  sider.className + ' fixed-sider');
                content.style.marginLeft = '20%';
            }else{
                sider.className = sider.className.replace(' fixed-sider','');
                content.style.marginLeft = '0';
            }
        }
    </script>
</body>
</html>